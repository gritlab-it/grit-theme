{# Section #carousel-owl-sync #}
<div class="container-fluid bg-light my-5" id="carousel-owl-sync">
    <div class="row">
        <div class="col-12 my-5">
            <h1>Section #carousel-owl-sync</h1>
            <p>id: #carousel-owl-sync</p>
        </div>
        <div class="col-12 col-md-6 my-5">
            <div id="carousel-owl-1" class="owl-carousel owl-theme d-none d-md-block">
                {% for item_post in archive_posts %}
                    <div class="row item">
                        <div class="col-12">
                            <p class="news-date py-3 pb-md-3">{{ item_post.published_at|date("d F Y") }}</p>
                            <h3 class="news-title pb-3"><a href="{{ item_post.link }}">{{ item_post.title }}</a>
                            </h3>
                            <p class="news-preview pb-3">{{ item_post.preview.read_more('...') }}</p>
                            <div class="button mt-5"><a href="{{ item_post.link }}">Continua a leggere</a></div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="col-12 col-md-6 pt-lg-6 my-5 pb-5">
            <div id="carousel-owl-2" class="owl-carousel owl-theme">
                {% for item_post in archive_posts %}
                    <div class="row item">
                        <div class="col-12">
                            <a href="{{ item_post.link }}">
                                <div class="img-blog-list ">
                                    <div class="inner-img-blog-list m-2"
                                         style="background-image: url('{% if item_post.thumbnail %}{{ item_post.thumbnail.src|resize(800,600) }}{% else %}{{ placeholder }}/random/800x600{% endif %}');">
                                        {{ item_post.title }}
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="col-12 d-block d-md-none">
                            <p class="news-date py-3 pb-md-3">{{ item_post.published_at|date("d F Y") }}</p>
                            <h3 class="news-title pb-3"><a href="{{ item_post.link }}">{{ item_post.title }}</a>
                            </h3>
                            <p class="news-preview pb-3">{{ item_post.preview.read_more('...') }}</p>
                            <div class="button mt-5"><a href="{{ item_post.link }}">Continua a leggere</a></div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</div>
<style>


    #carousel-owl-sync button:focus,
    #carousel-owl-sync button:focus-visible {
        outline: none;
    }
    #carousel-owl-sync #carousel-owl-1 .item {
        background: #d9d9d9;
        padding: 80px 0px;
        margin: 5px;
        color: #FFF;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
        text-align: center;
    }
    #carousel-owl-sync #carousel-owl-2 .item {
        background: #C9C9C9;
        padding: 10px 0px;
        margin: 5px;
        color: #FFF;
        -webkit-border-radius: 3px;
        -moz-border-radius: 3px;
        border-radius: 3px;
        text-align: center;
        cursor: pointer;
    }
    #carousel-owl-sync #carousel-owl-2 .item h1 {
        font-size: 18px;
    }
    #carousel-owl-sync #carousel-owl-2 .current .item {
        background: #0c83e7;
    }
    #carousel-owl-sync .owl-theme .owl-nav {
        /*default owl-theme theme reset .disabled:hover links */

    }
    #carousel-owl-sync .owl-theme .owl-nav [class*='owl-'] {
        transition: all .3s ease;
    }
    #carousel-owl-sync .owl-theme .owl-nav [class*='owl-'].disabled:hover {
        background-color: #D6D6D6;
    }


    #carousel-owl-sync #carousel-owl-2.owl-theme {
        position: relative;
    }
    #carousel-owl-sync #carousel-owl-2.owl-theme .owl-next,
    #carousel-owl-sync #carousel-owl-2.owl-theme .owl-prev {
        width: 22px;
        height: 40px;
        margin-top: -20px;
        position: absolute;
        top: 50%;
    }
    #carousel-owl-sync #carousel-owl-2.owl-theme .owl-prev {
        left: 10px;
    }
    #carousel-owl-sync #carousel-owl-2.owl-theme .owl-next {
        right: 10px;
    }


    #carousel-owl-sync #carousel-owl-1.owl-theme {
        position: relative;
    }
    #carousel-owl-sync #carousel-owl-1.owl-theme .owl-next,
    #carousel-owl-sync #carousel-owl-1.owl-theme .owl-prev {
        width: 22px;
        height: 40px;
        margin-top: -20px;
        position: absolute;
        top: 50%;
    }
    #carousel-owl-sync #carousel-owl-1.owl-theme .owl-prev {
        left: 10px;
    }
    #carousel-owl-sync #carousel-owl-1.owl-theme .owl-next {
        right: 10px;
    }



    #carousel-owl-sync .img-blog-list {
        border: solid 2px var(--grit-secondary);
        -webkit-transition: all 0.3s ease-in-out;
        transition: all 0.3s ease-in-out;
    }

    #carousel-owl-sync .img-blog-list:hover {
        -webkit-transition: all 0.3s ease-in-out;
        transition: all 0.3s ease-in-out;
        background: var(--grit-secondary);
    }

    #carousel-owl-sync .inner-img-blog-list {
        height: 550px;
        background-size: cover;
        background-repeat: no-repeat;
        background-position: center center;
        -webkit-transition: all 0.3s ease-in-out;
        transition: all 0.3s ease-in-out;
        background-blend-mode: multiply;
        background-color: transparent;
    }

    #carousel-owl-sync .img-blog-list:hover .inner-img-blog-list {
        background-color: var(--grit-primary);

        -webkit-transition: all 0.3s ease-in-out;
        transition: all 0.3s ease-in-out;
    }

</style>
<script type="text/javascript">
    $(document).ready(function() {

        var sync1 = $("#carousel-owl-1");
        var sync2 = $("#carousel-owl-2");
        var slidesPerPage = 3; //globaly define number of elements per page
        var syncedSecondary = true;

        sync1.owlCarousel({
            items : 1,
            slideSpeed : 2000,
            nav: true,
            autoplay: true,
            dots: true,
            loop: true,
            responsiveRefreshRate : 200,
            navText: ['<svg width="100%" height="100%" viewBox="0 0 11 20"><path style="fill:none;stroke-width: 1px;stroke: #000;" d="M9.554,1.001l-8.607,8.607l8.607,8.606"/></svg>','<svg width="100%" height="100%" viewBox="0 0 11 20" version="1.1"><path style="fill:none;stroke-width: 1px;stroke: #000;" d="M1.054,18.214l8.606,-8.606l-8.606,-8.607"/></svg>'],
        }).on('changed.owl.carousel', syncPosition);

        sync2
            .on('initialized.owl.carousel', function () {
                sync2.find(".owl-item").eq(0).addClass("current");
            })
            .owlCarousel({
                items : slidesPerPage,
                dots: true,
                nav: true,
                smartSpeed: 200,
                slideSpeed : 500,
                slideBy: slidesPerPage, //alternatively you can slide by 1, this way the active slide will stick to the first item in the second carousel
                responsiveRefreshRate : 100,
                navText: ['<svg width="100%" height="100%" viewBox="0 0 11 20"><path style="fill:none;stroke-width: 1px;stroke: #000;" d="M9.554,1.001l-8.607,8.607l8.607,8.606"/></svg>','<svg width="100%" height="100%" viewBox="0 0 11 20" version="1.1"><path style="fill:none;stroke-width: 1px;stroke: #000;" d="M1.054,18.214l8.606,-8.606l-8.606,-8.607"/></svg>'],

                responsive:{
                    0:{
                        items:1
                    },
                    600:{
                        items:2
                    },
                    1000:{
                        items:3
                    }
                }
            }).on('changed.owl.carousel', syncPosition2);

        function syncPosition(el) {
            //if you set loop to false, you have to restore this next line
            //var current = el.item.index;

            //if you disable loop you have to comment this block
            var count = el.item.count-1;
            var current = Math.round(el.item.index - (el.item.count/2) - .5);

            if(current < 0) {
                current = count;
            }
            if(current > count)Â {
                current = 0;
            }

            //end block

            sync2
                .find(".owl-item")
                .removeClass("current")
                .eq(current)
                .addClass("current");
            var onscreen = sync2.find('.owl-item.active').length - 1;
            var start = sync2.find('.owl-item.active').first().index();
            var end = sync2.find('.owl-item.active').last().index();

            if (current > end) {
                sync2.data('owl.carousel').to(current, 100, true);
            }
            if (current < start) {
                sync2.data('owl.carousel').to(current - onscreen, 100, true);
            }
        }

        function syncPosition2(el) {
            if(syncedSecondary) {
                var number = el.item.index;
                sync1.data('owl.carousel').to(number, 100, true);
            }
        }

        sync2.on("click", ".owl-item", function(e){
            e.preventDefault();
            var number = $(this).index();
            sync1.data('owl.carousel').to(number, 300, true);
        });
    });




</script>
{# end Section #carousel-owl-sync   #}